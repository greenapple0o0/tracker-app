{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import Login from\"./components/Login\";import TaskList from\"./components/TaskList\";import CountdownTimer from\"./components/CountdownTimer\";import\"./styles/app.css\";// Replace with your deployed backend URL\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE=process.env.REACT_APP_API_BASE;function App(){const[currentUser,setCurrentUser]=useState(null);const[tasks,setTasks]=useState([]);const[newTask,setNewTask]=useState(\"\");useEffect(()=>{if(currentUser)fetchTasks();},[currentUser]);const fetchTasks=async()=>{try{const res=await axios.get(\"\".concat(API_BASE,\"/tasks\"));setTasks(res.data);}catch(err){console.error(err);}};const addTask=async()=>{if(!newTask)return;try{const res=await axios.post(\"\".concat(API_BASE,\"/tasks\"),{text:newTask});setTasks([res.data,...tasks]);setNewTask(\"\");}catch(err){console.error(err);}};const toggleTask=async(id,username)=>{try{const res=await axios.put(\"\".concat(API_BASE,\"/tasks/\").concat(id),{username});setTasks(tasks.map(t=>t._id===id?res.data:t));}catch(err){console.error(err);}};const deleteTask=async id=>{try{await axios.delete(\"\".concat(API_BASE,\"/tasks/\").concat(id));setTasks(tasks.filter(t=>t._id!==id));}catch(err){console.error(err);}};if(!currentUser)return/*#__PURE__*/_jsx(Login,{onLogin:setCurrentUser});return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(CountdownTimer,{}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",currentUser]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-task\",children:[/*#__PURE__*/_jsx(\"input\",{value:newTask,onChange:e=>setNewTask(e.target.value),placeholder:\"Add new task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addTask,children:\"Add Task\"})]}),/*#__PURE__*/_jsx(TaskList,{tasks:tasks,toggleTask:toggleTask,deleteTask:deleteTask,currentUser:currentUser})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","Login","TaskList","CountdownTimer","jsx","_jsx","jsxs","_jsxs","API_BASE","process","env","REACT_APP_API_BASE","App","currentUser","setCurrentUser","tasks","setTasks","newTask","setNewTask","fetchTasks","res","get","concat","data","err","console","error","addTask","post","text","toggleTask","id","username","put","map","t","_id","deleteTask","delete","filter","onLogin","className","children","value","onChange","e","target","placeholder","onClick"],"sources":["C:/Users/greeny/Documents/ytdownload/tracker-app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Login from \"./components/Login\";\r\nimport TaskList from \"./components/TaskList\";\r\nimport CountdownTimer from \"./components/CountdownTimer\";\r\nimport \"./styles/app.css\";\r\n\r\n// Replace with your deployed backend URL\r\nconst API_BASE = process.env.REACT_APP_API_BASE;\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [tasks, setTasks] = useState([]);\r\n  const [newTask, setNewTask] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (currentUser) fetchTasks();\r\n  }, [currentUser]);\r\n\r\n  const fetchTasks = async () => {\r\n    try {\r\n      const res = await axios.get(`${API_BASE}/tasks`);\r\n      setTasks(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const addTask = async () => {\r\n    if (!newTask) return;\r\n    try {\r\n      const res = await axios.post(`${API_BASE}/tasks`, { text: newTask });\r\n      setTasks([res.data, ...tasks]);\r\n      setNewTask(\"\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const toggleTask = async (id, username) => {\r\n    try {\r\n      const res = await axios.put(`${API_BASE}/tasks/${id}`, { username });\r\n      setTasks(tasks.map(t => t._id === id ? res.data : t));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const deleteTask = async (id) => {\r\n    try {\r\n      await axios.delete(`${API_BASE}/tasks/${id}`);\r\n      setTasks(tasks.filter(t => t._id !== id));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (!currentUser) return <Login onLogin={setCurrentUser} />;\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <CountdownTimer />\r\n      <h2>Welcome, {currentUser}</h2>\r\n\r\n      <div className=\"add-task\">\r\n        <input value={newTask} onChange={(e) => setNewTask(e.target.value)} placeholder=\"Add new task\" />\r\n        <button onClick={addTask}>Add Task</button>\r\n      </div>\r\n\r\n      <TaskList tasks={tasks} toggleTask={toggleTask} deleteTask={deleteTask} currentUser={currentUser} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}