{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import Login from\"./components/Login\";import TaskList from\"./components/TaskList\";import CountdownTimer from\"./components/CountdownTimer\";import\"./styles/app.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[currentUser,setCurrentUser]=useState(null);const[tasks,setTasks]=useState([]);const[newTask,setNewTask]=useState(\"\");useEffect(()=>{if(currentUser)fetchTasks();},[currentUser]);const fetchTasks=async()=>{try{const res=await axios.get(\"http://localhost:5000/tasks\");setTasks(res.data);}catch(err){console.error(err);}};const addTask=async()=>{if(!newTask)return;try{const res=await axios.post(\"http://localhost:5000/tasks\",{text:newTask});setTasks([res.data,...tasks]);setNewTask(\"\");}catch(err){console.error(err);}};const toggleTask=async(id,username)=>{try{const res=await axios.put(\"http://localhost:5000/tasks/\".concat(id),{username});setTasks(tasks.map(t=>t._id===id?res.data:t));}catch(err){console.error(err);}};const deleteTask=async id=>{try{await axios.delete(\"http://localhost:5000/tasks/\".concat(id));setTasks(tasks.filter(t=>t._id!==id));}catch(err){console.error(err);}};if(!currentUser)return/*#__PURE__*/_jsx(Login,{onLogin:setCurrentUser});return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(CountdownTimer,{}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",currentUser]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-task\",children:[/*#__PURE__*/_jsx(\"input\",{value:newTask,onChange:e=>setNewTask(e.target.value),placeholder:\"Add new task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addTask,children:\"Add Task\"})]}),/*#__PURE__*/_jsx(TaskList,{tasks:tasks,toggleTask:toggleTask,deleteTask:deleteTask,currentUser:currentUser})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","Login","TaskList","CountdownTimer","jsx","_jsx","jsxs","_jsxs","App","currentUser","setCurrentUser","tasks","setTasks","newTask","setNewTask","fetchTasks","res","get","data","err","console","error","addTask","post","text","toggleTask","id","username","put","concat","map","t","_id","deleteTask","delete","filter","onLogin","className","children","value","onChange","e","target","placeholder","onClick"],"sources":["C:/Users/greeny/Documents/ytdownload/tracker-app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Login from \"./components/Login\";\r\nimport TaskList from \"./components/TaskList\";\r\nimport CountdownTimer from \"./components/CountdownTimer\";\r\nimport \"./styles/app.css\";\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [tasks, setTasks] = useState([]);\r\n  const [newTask, setNewTask] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (currentUser) fetchTasks();\r\n  }, [currentUser]);\r\n\r\n  const fetchTasks = async () => {\r\n    try {\r\n      const res = await axios.get(\"http://localhost:5000/tasks\");\r\n      setTasks(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const addTask = async () => {\r\n    if (!newTask) return;\r\n    try {\r\n      const res = await axios.post(\"http://localhost:5000/tasks\", { text: newTask });\r\n      setTasks([res.data, ...tasks]);\r\n      setNewTask(\"\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const toggleTask = async (id, username) => {\r\n    try {\r\n      const res = await axios.put(`http://localhost:5000/tasks/${id}`, { username });\r\n      setTasks(tasks.map(t => t._id === id ? res.data : t));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const deleteTask = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/tasks/${id}`);\r\n      setTasks(tasks.filter(t => t._id !== id));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (!currentUser) return <Login onLogin={setCurrentUser} />;\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <CountdownTimer />\r\n      <h2>Welcome, {currentUser}</h2>\r\n\r\n      <div className=\"add-task\">\r\n        <input value={newTask} onChange={(e) => setNewTask(e.target.value)} placeholder=\"Add new task\" />\r\n        <button onClick={addTask}>Add Task</button>\r\n      </div>\r\n\r\n      <TaskList tasks={tasks} toggleTask={toggleTask} deleteTask={deleteTask} currentUser={currentUser} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACd,GAAIU,WAAW,CAAEM,UAAU,CAAC,CAAC,CAC/B,CAAC,CAAE,CAACN,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAM,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,CAAC,6BAA6B,CAAC,CAC1DL,QAAQ,CAACI,GAAG,CAACE,IAAI,CAAC,CACpB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAAG,OAAO,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CAACT,OAAO,CAAE,OACd,GAAI,CACF,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAAhB,KAAK,CAACuB,IAAI,CAAC,6BAA6B,CAAE,CAAEC,IAAI,CAAEX,OAAQ,CAAC,CAAC,CAC9ED,QAAQ,CAAC,CAACI,GAAG,CAACE,IAAI,CAAE,GAAGP,KAAK,CAAC,CAAC,CAC9BG,UAAU,CAAC,EAAE,CAAC,CAChB,CAAE,MAAOK,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAAM,UAAU,CAAG,KAAAA,CAAOC,EAAE,CAAEC,QAAQ,GAAK,CACzC,GAAI,CACF,KAAM,CAAAX,GAAG,CAAG,KAAM,CAAAhB,KAAK,CAAC4B,GAAG,gCAAAC,MAAA,CAAgCH,EAAE,EAAI,CAAEC,QAAS,CAAC,CAAC,CAC9Ef,QAAQ,CAACD,KAAK,CAACmB,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKN,EAAE,CAAGV,GAAG,CAACE,IAAI,CAAGa,CAAC,CAAC,CAAC,CACvD,CAAE,MAAOZ,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAAc,UAAU,CAAG,KAAO,CAAAP,EAAE,EAAK,CAC/B,GAAI,CACF,KAAM,CAAA1B,KAAK,CAACkC,MAAM,gCAAAL,MAAA,CAAgCH,EAAE,CAAE,CAAC,CACvDd,QAAQ,CAACD,KAAK,CAACwB,MAAM,CAACJ,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKN,EAAE,CAAC,CAAC,CAC3C,CAAE,MAAOP,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAED,GAAI,CAACV,WAAW,CAAE,mBAAOJ,IAAA,CAACJ,KAAK,EAACmC,OAAO,CAAE1B,cAAe,CAAE,CAAC,CAE3D,mBACEH,KAAA,QAAK8B,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBjC,IAAA,CAACF,cAAc,GAAE,CAAC,cAClBI,KAAA,OAAA+B,QAAA,EAAI,WAAS,CAAC7B,WAAW,EAAK,CAAC,cAE/BF,KAAA,QAAK8B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBjC,IAAA,UAAOkC,KAAK,CAAE1B,OAAQ,CAAC2B,QAAQ,CAAGC,CAAC,EAAK3B,UAAU,CAAC2B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAACI,WAAW,CAAC,cAAc,CAAE,CAAC,cACjGtC,IAAA,WAAQuC,OAAO,CAAEtB,OAAQ,CAAAgB,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACxC,CAAC,cAENjC,IAAA,CAACH,QAAQ,EAACS,KAAK,CAAEA,KAAM,CAACc,UAAU,CAAEA,UAAW,CAACQ,UAAU,CAAEA,UAAW,CAACxB,WAAW,CAAEA,WAAY,CAAE,CAAC,EACjG,CAAC,CAEV,CAEA,cAAe,CAAAD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}